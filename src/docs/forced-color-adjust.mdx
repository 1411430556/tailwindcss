import { ApiTable } from "@/components/api-table.tsx";
import { Example } from "@/components/example.tsx";
import { Figure } from "@/components/figure.tsx";
import { ResponsiveDesign } from "@/components/content.tsx";
import Image from "next/image";
import tshirtImage from "./img/t-shirt.jpg";

export const title = "forced-color-adjust";
export const description = "用于选择是否启用强制颜色的工具。";

<ApiTable
  rows={[
    ["forced-color-adjust-auto", "forced-color-adjust: auto;"],
    ["forced-color-adjust-none", "forced-color-adjust: none;"],
  ]}
/>

## 示例

### 取消强制颜色

使用 `forced-color-adjust-none` 工具来让元素不受强制颜色模式强制的颜色影响。这在局限的调色板会降低可用性的情况下尤其有用。

<Figure hint="尝试在开发者工具中模拟 `forced-colors: active` 以查看变化">

<Example>
  {
    <div className="mx-auto max-w-sm overflow-clip rounded-lg border border-transparent bg-white shadow dark:border-white/10 dark:bg-white/5">
      <div className="aspect-h-3 aspect-w-3 overflow-hidden">
        <Image
          src={tshirtImage}
          alt="两件灰色、白色和黑色的T恤平放。"
          className="h-full w-full object-cover object-center"
        />
      </div>
      <div className="grid grid-cols-[1fr_auto] items-center gap-4 p-4">
        <div>
          <p className="font-medium text-gray-900 dark:text-white">基础T恤</p>
          <p className="text-sm font-medium text-gray-900 dark:text-white">$35</p>
        </div>
        <fieldset>
          <legend className="sr-only">选择颜色</legend>
          <div className="grid grid-flow-col items-center gap-3 forced-color-adjust-none">
            <label className="relative -m-0.5 flex cursor-pointer items-center justify-center rounded-full p-0.5 ring-0 focus:outline-none has-checked:ring-1 has-checked:ring-gray-400 has-checked:ring-offset-1">
              <input
                type="radio"
                name="color-choice"
                value="白色"
                className="sr-only"
                aria-labelledby="color-choice-0-label"
              />
              <span id="color-choice-0-label" className="sr-only">
                白色
              </span>
              <span
                aria-hidden="true"
                className="size-6 rounded-full border border-black/10 bg-white dark:border-white/10"
              ></span>
            </label>
            <label className="relative -m-0.5 flex cursor-pointer items-center justify-center rounded-full p-0.5 ring-0 focus:outline-none has-checked:ring-1 has-checked:ring-gray-400 has-checked:ring-offset-1">
              <input type="radio" defaultChecked name="color-choice" value="灰色" className="sr-only" />
              <span id="color-choice-1-label" className="sr-only">
                灰色
              </span>
              <span
                aria-hidden="true"
                className="size-6 rounded-full border border-black/10 bg-gray-200 dark:border-white/10"
              ></span>
            </label>
            <label className="relative -m-0.5 flex cursor-pointer items-center justify-center rounded-full p-0.5 ring-0 focus:outline-none has-checked:ring-1 has-checked:ring-gray-900 has-checked:ring-offset-1">
              <input
                type="radio"
                name="color-choice"
                value="黑色"
                className="sr-only"
                aria-labelledby="color-choice-2-label"
              />
              <span id="color-choice-2-label" className="sr-only">
                黑色
              </span>
              <span
                aria-hidden="true"
                className="size-6 rounded-full border border-black/10 bg-gray-900 dark:border-white/10"
              ></span>
            </label>
          </div>
        </fieldset>
      </div>
    </div>
  }
</Example>

```html
<!-- [!code classes:forced-color-adjust-none] -->
<form>
  <img src="/img/shirt.jpg" />
  <div>
    <h3>基础T恤</h3>
    <h3>$35</h3>
    <fieldset>
      <legend class="sr-only">选择颜色</legend>
      <div class="forced-color-adjust-none ...">
        <label>
          <input class="sr-only" type="radio" name="color-choice" value="白色" />
          <span class="sr-only">白色</span>
          <span class="size-6 rounded-full border border-black/10 bg-white"></span>
        </label>
        <!-- ... -->
      </div>
    </fieldset>
  </div>
</form>
```

</Figure>

您还可以使用 [强制颜色变体](/docs/hover-focus-and-other-states#forced-colors)，当用户启用了强制颜色模式时有条件地添加样式。

### 恢复强制颜色

使用 `forced-color-adjust-auto` 工具使元素遵循强制颜色模式强制的颜色：

```html
<!-- [!code classes:lg:forced-color-adjust-auto] -->
<form>
  <fieldset class="forced-color-adjust-none lg:forced-color-adjust-auto ...">
    <legend>选择颜色：</legend>
    <select class="hidden lg:block">
      <option value="白色">白色</option>
      <option value="灰色">灰色</option>
      <option value="黑色">黑色</option>
    </select>
    <div class="lg:hidden">
      <label>
        <input class="sr-only" type="radio" name="color-choice" value="白色" />
        <!-- ... -->
      </label>
      <!-- ... -->
    </div>
  </fieldset>
</form>
```

这在您想要撤销 `forced-color-adjust-none` 工具时非常有用，例如在更大的屏幕尺寸上。

### 响应式设计

<ResponsiveDesign
  property="forced-color-adjust"
  defaultClass="forced-color-adjust-none"
  featuredClass="forced-color-adjust-auto"
/>